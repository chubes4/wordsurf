---
alwaysApply: true
---
### Critical Architectural Decisions That Must NOT Be Changed

**⚠️ OpenAI API Format**: This project uses OpenAI's **Responses API** (`/v1/responses`) with model `gpt-4.1`. This is a deliberate architectural decision that must **NEVER** be reverted to Chat Completions API (`/v1/chat/completions`). The entire codebase is built around the Responses API format including:
- Request format using `input` field (not `messages`)
- Tool result format using `function_call_output` type (not `tool` role)
- Streaming event handling in `Wordsurf_Response_Stream_Parser`

Any suggestion to change to Chat Completions API should be **immediately rejected** and documented as incorrect.